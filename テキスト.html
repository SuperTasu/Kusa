<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>ãƒã‚¹é›»å…‰æ²ç¤ºæ¿</title>
  <style>
    body {
      font-family: sans-serif;
      background: #111;
      color: #fff;
      margin: 0;
    }
    .container {
      display: flex;
      flex-direction: row;
      height: 100vh;
    }
    .panel {
      flex: 1;
      border-left: 1px solid #333;
      padding: 10px;
      box-sizing: border-box;
    }
    .title {
      font-size: 1.5em;
      margin-bottom: 5px;
    }
    .controls {
      margin-bottom: 10px;
    }
    .controls select, .controls button {
      margin-right: 5px;
      padding: 5px;
      font-size: 1em;
    }
    .bus-info {
      margin-top: 10px;
    }
    .bus-line {
      margin-bottom: 15px;
    }
    .bus-line h4 {
      margin: 5px 0;
      color: #ffd700;
    }
    .bus-time {
      font-size: 1.2em;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- åœ¨å®¶ç”º -->
    <div class="panel" id="zaike">
      <div class="title">ğŸš ä»Šåœ¨å®¶ç”º</div>
      <div class="controls">
        <select onchange="updateStop('zaike', this.value)">
          <option value="weekday">å¹³æ—¥</option>
          <option value="holiday">åœŸæ—¥</option>
        </select>
        <button onclick="toggleDirection('zaike')">å³å› â†” å·¦å›</button>
      </div>
      <div class="bus-info" id="info-zaike"></div>
    </div>

    <!-- å¤¢é‡ç”º3ä¸ç›® / åå€‰ç”º -->
    <div class="panel" id="yume">
      <div class="title">ğŸš 
        <select onchange="changeYumeStop(this.value)">
          <option value="å¤¢é‡ç”º3ä¸ç›®">å¤¢é‡ç”º3ä¸ç›®</option>
          <option value="åå€‰ç”º">åå€‰ç”º</option>
        </select>
      </div>
      <div class="controls">
        <select onchange="updateStop('yume', this.value)">
          <option value="weekday">å¹³æ—¥</option>
          <option value="holiday">åœŸæ—¥</option>
        </select>
        <button onclick="toggleDirection('yume')">å³å› â†” å·¦å›</button>
      </div>
      <div class="bus-info" id="info-yume"></div>
    </div>

    <!-- é·¹å–å›£åœ°å‰ -->
    <div class="panel" id="takatori">
      <div class="title">ğŸš é·¹å–å›£åœ°å‰</div>
      <div class="controls">
        <select onchange="updateStop('takatori', this.value)">
          <option value="weekday">å¹³æ—¥</option>
          <option value="holiday">åœŸæ—¥</option>
        </select>
        <button onclick="toggleDirection('takatori')">å³å› â†” å·¦å›</button>
      </div>
      <div class="bus-info" id="info-takatori"></div>
    </div>
  </div>

  <script>
    const timeTables = {
      zaike: {
        weekday: {
          right: {
            '11': ['08:12', '08:40'],
            '22': ['08:20', '08:55']
          },
          left: {
            '11': ['08:15', '08:45'],
            '22': ['08:25', '09:00']p
          }
        },
        holiday: {
          right: {
            '11': ['08:30', '09:00'],
            '22': ['08:45', '09:20']
          },
          left: {
            '11': ['08:35', '09:10'],
            '22': ['08:50', '09:25']
          }
        }
      },
      yume: JSON.parse(JSON.stringify(this.zaike)),
      takatori: JSON.parse(JSON.stringify(this.zaike))
    };

    const stopState = {
      zaike: { day: 'weekday', dir: 'right' },
      yume: { day: 'weekday', dir: 'right', name: 'å¤¢é‡ç”º3ä¸ç›®' },
      takatori: { day: 'weekday', dir: 'right' }
    };

    function updateDisplay(stopId) {
      const info = document.getElementById('info-' + stopId);
      const { day, dir } = stopState[stopId];
      const data = timeTables[stopId][day][dir];

      info.innerHTML = Object.entries(data).map(([line, times]) => `
        <div class="bus-line">
          <h4>ç³»çµ± ${line}</h4>
          <div class="bus-time">å…ˆç™º: ${times[0]}</div>
          <div class="bus-time">æ¬¡ç™º: ${times[1]}</div>
        </div>
      `).join('');
    }

    function toggleDirection(stopId) {
      stopState[stopId].dir = stopState[stopId].dir === 'right' ? 'left' : 'right';
      updateDisplay(stopId);
    }

    function updateStop(stopId, dayType) {
      stopState[stopId].day = dayType;
      updateDisplay(stopId);
    }

    function changeYumeStop(name) {
      stopState.yume.name = name;
      document.querySelector('#yume .title').innerHTML = 'ğŸš ' +
        `<select onchange="changeYumeStop(this.value)">
           <option value="å¤¢é‡ç”º3ä¸ç›®"${name === "å¤¢é‡ç”º3ä¸ç›®" ? " selected" : ""}>å¤¢é‡ç”º3ä¸ç›®</option>
           <option value="åå€‰ç”º"${name === "åå€‰ç”º" ? " selected" : ""}>åå€‰ç”º</option>
         </select>`;
    }

    // åˆæœŸè¡¨ç¤º
    updateDisplay('zaike');
    updateDisplay('yume');
    updateDisplay('takatori');
  </script>
</body>
</html>

